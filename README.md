# auto-primer-design
Convert the Sanger primer design workflow from primer3 website to command line.

Dependents:
1. primer3_core 
2. python3
3. docker run /mnt1/ngs-output/ngsresultapproval/Sanger/PrimerDesigns/

Usage:
python autoprimerdesign.v1.0.py -i INPUT -s SEQ -p PARA -n NAME

Input: 
1. variants infor (TXT)

example:
RUNNAME SAMPLE_ID       CHROM   POS     REF     ALT     GT      REQUEST_DATE    Remarks
C8F82   1901-90411      17      59793412        G       A       G/A     16/2/2019       Highest priority

2. parameter configue table for primer3_core
2.1 parameter_fordocker.txt: PRIMER_THERMODYNAMIC_PARAMETERS_PATH=/opt/conda/pkgs/primer3-2.4.1a-pl526hfc679d8_0/share/primer3/primer3_config/
2.2 parameters_forserver.txt: #PRIMER_THERMODYNAMIC_PARAMETERS_PATH=/opt/conda/pkgs/primer3-2.4.1a-pl526hfc679d8_0/share/primer3/primer3_config/

3. sequence data (FASTA/FASTQ)
/mnt/ngs-output/ngsdatabases/database_dev1.0/b37/human_g1k_v37_decoy.fasta

4. name for this run

Output: 
1. flanking sequence appended to original input file (TXT)

example:
RUNNAME SAMPLE_ID       CHROM   POS     REF     ALT     GT      REQUEST_DATE    Remarks FLANK_SEQ
C8F82   1901-90411      17      59793412        G       A       G/A     16/2/2019       Highest priority        TATCAATTTTCTTCCCTGACATTTTGGGGGAGGTGAGGAGAGAGGTCTGTTTATCTATAAAATTGTTATCTGAGCTTTGATGTTCACAAGACAAAACTTTTTTGATTTGATAAGCTTTCTTTAATATTTACTGAGCATCTTTGTGTGCTATTCATTGTTAGATCAATCACAAAATTTCTTTAAACTTTAGCAAATTGTGAGTTTTGTTTTGGGAATAACTTATTCTTCTTACTCTTTTCAAATTCTACTTGTGACAGCTATCATTGAATACATACCAGTTCCTATGGTTCCAGTTAAATAAAATTTTACCAAGTTTATTATAAAGAGTAAAGTAGCAAGACTAGATTTATATATATAGCCCTGTCACAGATAATATTATATTAAATTTCACTCCACTTACCTACCAAGGGCCTGGTTTAAGGCCCTGTATGCTTGAATTTCATACCACTGACGGCCAGGTAGAAGACCTCTCAATTTTGAATGGTGGTCATTGTATTGTC[G]TTTTAGTTCAACCTAATAATTTTAAAATATATTTAAAAAATTAGTAGATAATTAAAGCTCATTTTAAACATCATATTAACTTCTAACAGTTTGAATATACATATTTTTAGGGTAGAGATTTTATTTTGTTTTTCAGTACTGATTTTTTTCGTTTCATTTAAAATAGTTTTATTTAGCTTCACATTCCTTAAATTACCTAATGCATATAACTAATCAGCTGTGTGATCTCAAGCAGTTTTATTGAACTTACATTCATTAAATCCACACAATTTTCAGTGTACAAGTAGGTGAGTTTTGACATATATAGTAATGTAACCACCATCATAATATAGAACATTTTCATCACCCCCAAAAGTTCCCTCTTATCCCTTTATAGTAAATTTCTTTCTTCCACTGCTGGCCCTGGCAACCACTGATCTGCTTTCTGTTTTGCCCTTTATAGAATTTCATATAAATATTATCATATACTATGTAATGACTTGTGACATTTTTCATTTAAT

2. primer design result output (EXCEL, for lab user/TXT, for backup), up to 5 pairs of primers returned for each variant.

example:
primer_name     primer_seq      primer_name     size    start   len     tm      gc_percent      any_th  3'_th   hairpin seq     runname sample_id       pos
chr17:59793412-F0M13    GTAAAACGACGGCCAGTGACGGCCAGGTAGAAGA      chr17:59793412-F0M13    474     449     18      57.143  55.556  2.24    0.00    0.00    TGACGGCCAGGTAGAAGA      C8F82   1901-90411      chr17:59793412
chr17:59793412-R0M13    CAGGAAACAGCTATGACGCAGATCAGTGGTTGCCA     chr17:59793412-R0M13    474     922     18      57.597  55.556  0.00    0.00    0.00    GCAGATCAGTGGTTGCCA      C8F82   1901-90411      chr17:59793412
